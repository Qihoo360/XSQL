<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="img/favicon.ico">

    
    <title>Home - XSQL</title>
    

    <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="css/base.min.css" rel="stylesheet">
    <link href="css/cinder.min.css" rel="stylesheet">
    <link href="css/highlight.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

    <script src="//ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    

     
</head>

<body class="homepage" >

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            <a class="navbar-brand" href=".">XSQL</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="getting_started/Getting_Started/">Overview</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tutorial <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="tutorial/configuration/">Configuration</a>
</li>

                        
                            
<li >
    <a href="tutorial/syntax/">Special Syntax</a>
</li>

                        
                            
<li >
    <a href="tutorial/api/">API</a>
</li>

                        
                            
<li >
    <a href="tutorial/rest-api/">REST API</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Data Sources <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="datasources/hive/">Hive</a>
</li>

                        
                            
<li >
    <a href="datasources/mysql/">MySQL</a>
</li>

                        
                            
<li >
    <a href="datasources/elasticsearch/">Elasticsearch</a>
</li>

                        
                            
<li >
    <a href="datasources/mongo/">MongoDB</a>
</li>

                        
                            
<li >
    <a href="datasources/kafka/">Kafka</a>
</li>

                        
                            
<li >
    <a href="datasources/hbase/">HBase</a>
</li>

                        
                            
<li >
    <a href="datasources/redis/">Redis</a>
</li>

                        
                            
<li >
    <a href="datasources/druid/">Druid</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Performance Report <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="performance_report/hive/">Hive</a>
</li>

                        
                            
<li >
    <a href="performance_report/mysql/">MySQL</a>
</li>

                        
                            
<li >
    <a href="performance_report/elasticsearch/">Elasticsearch</a>
</li>

                        
                            
<li >
    <a href="performance_report/mongo/">MongoDB</a>
</li>

                        
                            
<li >
    <a href="performance_report/hbase/">HBase</a>
</li>

                        
                            
<li >
    <a href="performance_report/redis/">Redis</a>
</li>

                        
                            
<li >
    <a href="performance_report/multi_datasource/">Multiple Data Sources</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">More <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="jsoneditor/">Json Editor</a>
</li>

                        
                            
<li >
    <a href="functions/">Functions</a>
</li>

                        
                            
<li >
    <a href="troubleshooting/common/">Common Troubleshooting</a>
</li>

                        
                            
<li >
    <a href="troubleshooting/spark2.3-troubleshooting/">Spark2.3 Troubleshooting</a>
</li>

                        
                            
<li >
    <a href="troubleshooting/spark1.6-troubleshooting/">Spark1.6 Troubleshooting</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fas fa-search"></i> Search
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#contents">Contents</a></li>
        <li class="first-level "><a href="#external-resources">External Resources</a></li>
        <li class="first-level "><a href="#release-notes">Release Notes</a></li>
        <li class="first-level "><a href="#version-compatibility">Version Compatibility</a></li>
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<p><img alt="XSQL-logo" src="images\XSQL-300200.png" /></p>
<h1 id="contents">Contents</h1>
<p>=================</p>
<ul>
<li><a href="getting_started/Getting_Started/">项目概况-Overview</a></li>
<li><a href="tutorial/configuration/">自定义配置-Configuration</a></li>
<li><a href="tutorial/syntax/">特殊语法-Special Syntax</a></li>
<li><a href="tutorial/api/">支持的API</a></li>
<li><a href="datasources/common/">数据源详情-Data Sources</a></li>
<li><a href="performance_report/common/">性能报告-Performance Report</a></li>
<li><a href="troubleshooting/common/">常见问题-Troubleshooting</a></li>
<li><a href="#version-compatibility">更新日志-ReleaseNote</a></li>
</ul>
<h1 id="external-resources">External Resources</h1>
<p><a href="getting_started/360分布式查询引擎XSQL技术揭秘与使用介绍.pdf">360分布式查询引擎XSQL：技术揭秘与使用介绍</a></p>
<p><a href="getting_started/xsql推广ppt.pdf">XSQL推广PPT</a></p>
<h1 id="release-notes">Release Notes</h1>
<table>
<thead>
<tr>
<th>版本号</th>
<th>发布日期</th>
<th>Bug</th>
<th>Improvement</th>
<th>New Feature</th>
</tr>
</thead>
<tbody>
<tr>
<td>2.3.1.xsql-0.1.0</td>
<td>2019.01.31</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>2.3.1.xsql-0.2.0</td>
<td>2019.03.04</td>
<td>1.Desc Table展示Elasticsearch时，列类型显示不正确<br />2.解决NoSuchDatabaseException异常数据库名和数据源名称颠倒的问题<br />3.Alter table时，无法将Spark的列类型转换为Elasticsearch的<br />4.将XSQL内部的数据库名转化为物理上的实际数据库名称<br />5.修复SQL页面丢失的问题<br />6.RenameXSQLTable must update the collection property in CatalogTable.</td>
<td>1.支持对limit 0时的探测<br />2.show databases将数据库名放在第一列，show tables将表名放在第一列<br />3.优化ElasticSearchManager，抽象getTableOption<br />4.避免编译Spark core模块<br />5.完善XSQLSqlParser的注释<br />6.实现默认listDatabases(ds, pattern)<br />7.Add default options for ES and mongo.</td>
<td>1.增加Cache Level机制<br />2.支持 SQL页面显示查询语句<br />3.HBase限制非索引字段查询和增删表, force=true强制开启<br />4.Add rename table syntax for MongoDB.</td>
</tr>
<tr>
<td>2.3.1.xsql-0.2.1</td>
<td>2019.03.06</td>
<td>1.解决spark.mongodb.input.uri没有传递给CatalogTable的问题<br />2.解决部分jersey包冲突</td>
<td>更新XSQL文档，增加对Cache Level、Whitelist、spark.xsql.properties.file等的描述</td>
<td></td>
</tr>
<tr>
<td>2.3.1.xsql-0.2.2</td>
<td>2019.03.14</td>
<td>1.解决：解析Elasticsearch的object类型时出错的问题<br />2.解决：当Elasticsearch的discover文件不存在时出错的问题<br />3.解决：Elasticsearch relation没有包含es.read.field.as.array.include属性的问题<br />4.解决：Elasticsearch的float和array[float]在解析时发生混淆的问题</td>
<td>1.增加运维诊断文档<br />2.减少耦合，不再修改InsertIntoHiveTable</td>
<td>1.增加Add datasource语法<br />2.增加Remove|Refresh datasource语法<br />3.增加探索Elasticsearch的字段schema的功能</td>
</tr>
<tr>
<td>2.3.1.xsql-0.2.3</td>
<td>2019.03.22</td>
<td>1.解决：Elasticsearch下推解析数据时，字段为null时的异常<br />2.解决：Druid在SQL包含中文时解析出错的问题<br />3.解决：执行select * group by时出错的问题</td>
<td>1.Druid查询时没有指定__time时,友好提示用户<br />2.完善Getting_Started文档的用例<br />3.前置SQL语法校验到Local模式切换Yarn模式之前</td>
<td>1.Druid支持二级缓存</td>
</tr>
<tr>
<td>2.3.1.xsql-0.3.0</td>
<td>2019.04.04</td>
<td>1.解决：避免下推Mysql不支持的函数<br />2.解决：Mysql分区信息丢失</td>
<td>1.Hbase,Druid 模块化<br />2.优化 DataSourceManager插件化代码<br />3.清理冗余的依赖</td>
<td>1.支持给SQL中可以下推的子查询加别名<br />2.Elasticsearch支持Scroll接口，加速查询效率<br />3.Elasticsearch支持es.read.field.empty.as.null配置<br />4.增加Hive 权限验证模块spark-authorizer</td>
</tr>
<tr>
<td>2.3.1.xsql-0.3.1</td>
<td>2019.04.09</td>
<td>1.解决：Local模式切换Yarn模式时，任务链接部分标签页不显示的问题<br />2.解决：Local模式执行create table using parquet等后，切换Yarn模式导致底层创建的HadoopFsRelation还是Local模式下已经关闭的SparkSession<br />3.解决：移除spark-hive脚本后，难以无缝迁移<br />4.解决：Hbase,Druid 模块化后，ServiceLoader找不到对应DataSourceRegister实现的Bug</td>
<td></td>
<td>1. 保留支持bin/spark-hive<br />2. Hbase、Druid需额外配置，从而控制jars大小</td>
</tr>
<tr>
<td>2.3.1.xsql-0.3.2</td>
<td></td>
<td>1. bin/spark-xsql支持${}字符串变量<br />2. datasource关键字与列名冲突<br />3. processSingleTable assert失败<br />4. !开头的命令cast报错<br />5. OutOfDriectMemoryError</td>
<td></td>
<td>1. 支持Hive的remove datasource if exists<br />2. 支持Hive的insert overwrite directory using xxx<br />3. 增加Yarn优先级控制参数spark-sql --priority</td>
</tr>
<tr>
<td>2.3.1.xsql-0.4.0</td>
<td></td>
<td>1. load data partition<br/>2. StackOverflow caused by window functions<br/> 3. select using script</td>
<td>1. set 不再触发job <br/>2. local模式不再产生日志文件</td>
<td>1.支持Hive的distribute by<br/> 2.接入Kafka数据源</td>
</tr>
<tr>
<td>2.4.3.xsql-0.5.0</td>
<td></td>
<td>1.修复任务结束时报错java.io.IOException: Filesystem closed<br />2.解决HDFS0.2版本与Spark流式SQL所使用HDFS高版本的兼容性问题<br/>3.修复MongoManager、ElasticSearchManager在Local模式下，使用SparkSession.getActiveSession的bug<br/>4.解决XSQL升级Spark2.4.3后，流式SQL无法支持下推的问题</td>
<td>升级至Spark2.4.3核心</td>
<td>支持流式SQL计算Kafka数据</td>
</tr>
</tbody>
</table>
<h1 id="version-compatibility">Version Compatibility</h1>
<table>
<thead>
<tr>
<th>Compute/Storage/Language</th>
<th>Version</th>
<th>Grade</th>
<th>Documentation</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="images/scala.png" width="90" height="40" /></td>
<td>2.11.8</td>
<td>PRODUCTION</td>
<td></td>
<td>Data API is built on scala 2.11.8</td>
</tr>
<tr>
<td><img src="images/spark.png" width="90" height="40" /></td>
<td>2.4.3</td>
<td></td>
<td></td>
<td>This is the recommended version</td>
</tr>
<tr>
<td><img src="images/hadoop.png" width="120" height="40" /></td>
<td>2.7.3</td>
<td></td>
<td></td>
<td>This is the recommended version</td>
</tr>
<tr>
<td><img src="images/hive.png" width="80" height="60" /></td>
<td>1.2</td>
<td>PRODUCTION</td>
<td><a href="datasources/hive/">Hive Doc</a></td>
<td></td>
</tr>
<tr>
<td><img src="images/mysql.png" width="100" height="67" /></td>
<td>5.6.19</td>
<td>PRODUCTION</td>
<td><a href="datasources/mysql/">Mysql Doc</a></td>
<td>POWER BY mysql-jdbc</td>
</tr>
<tr>
<td><img src="images/kafka.png" width="120" height="40" /></td>
<td>0.10+</td>
<td>PRODUCTION</td>
<td><a href="datasources/kafka/">Kafka Doc</a></td>
<td></td>
</tr>
<tr>
<td><img src="images/elasticsearch.png" width="120" height="60" /></td>
<td>5.2</td>
<td>PRODUCTION</td>
<td><a href="datasources/elasticsearch/">ElasticSearch Doc</a></td>
<td>POWER BY ElasticSearch-Hadoop</td>
</tr>
<tr>
<td><img src="images/druid.png" width="120" height="40" /></td>
<td>0.10.0</td>
<td>PRODUCTION</td>
<td><a href="datasources/druid/">Druid Doc</a></td>
<td></td>
</tr>
<tr>
<td><img src="images/mongo.png" width="120" height="35" /></td>
<td>2.3.0</td>
<td>PRODUCTION</td>
<td><a href="datasources/mongo/">MongoDB Doc</a></td>
<td>POWER BY MongoDB  Connector</td>
</tr>
<tr>
<td><img src="images/hbase.png" width="100" height="35" /></td>
<td>2.0</td>
<td>PRODUCTION WITH LIMITATIONS</td>
<td><a href="datasources/hbase/">HBase Doc</a></td>
<td>POWER BY SHC Connector</td>
</tr>
<tr>
<td><img src="images/redis.png" width="100" height="33" /></td>
<td>4.0.10</td>
<td>EXPERIMENTAL</td>
<td><a href="datasources/redis/">Redis Doc</a></td>
<td>POWER BY jedis</td>
</tr>
</tbody>
</table></div>
        
        
    </div>

    <footer class="col-md-12 text-center">
        
        <hr>
        <p>
        <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p></small>

        
        
    </footer>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="js/bootstrap-3.0.3.min.js"></script>
    <script src="js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>var base_url = "."</script>
    
    <script src="js/base.js"></script>
    <script src="search/main.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>

<!--
MkDocs version : 1.0.4
Build Date UTC : 2019-10-10 11:01:37
-->
